sudo apt install tigervnc-standalone-server -y

sudo apt install -y git tigervnc-standalone-server xfce4 xfce4-goodies python3-websockify


sudo apt install -y xfce4-session gnome-session xterm

sudo apt install -y lightdm gdm3

sudo apt install -y gdm3 ubuntu-gnome-desktop

apt install -y dbus-x11

apt install 'dbus*' 

sudo apt install -y lightdm gdm3





sudo cp /etc/lightdm/lightdm.conf /etc/lightdm/lightdm.conf.backup 2>/dev/null || true
sudo bash -c 'cat > /etc/lightdm/lightdm.conf << EOF
[Seat:*]
user-session=xfce
allow-guest=false
[XDMCPServer]
enabled=true
port=177
EOF'






sudo systemctl restart lightdm






sudo sed -i 's/#WaylandEnable=false/WaylandEnable=false/' /etc/gdm3/custom.conf


sudo systemctl restart gdm3









sudo dpkg-reconfigure lightdm

sudo dpkg-reconfigure gdm3


vncserver :1 -geometry 1280x800 -depth 24 -xstartup "~/.vnc/xstartup gnome"



mkdir -p ~/.vnc
mv ~/.vnc/xstartup ~/.vnc/xstartup.backup 2>/dev/null || true
cat > ~/.vnc/xstartup << EOF
#!/bin/sh
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS
[ -x /etc/vnc/xstartup ] && exec /etc/vnc/xstartup
[ -r \$HOME/.Xresources ] && xrdb \$HOME/.Xresources
xsetroot -solid grey
vncconfig -iconic &
if [ "\$1" = "gnome" ]; then
    gnome-session &
else
    startxfce4 &
fi
EOF
chmod +x ~/.vnc/xstartup



mkdir -p ~/.vnc

mv ~/.vnc/xstartup ~/.vnc/xstartup.backup 2>/dev/null || true




cat > ~/.vnc/xstartup << EOF
#!/bin/sh
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS
[ -x /etc/vnc/xstartup ] && exec /etc/vnc/xstartup
[ -r \$HOME/.Xresources ] && xrdb \$HOME/.Xresources
xsetroot -solid grey
vncconfig -iconic &
if [ "\$1" = "gnome" ]; then
    gnome-session &
else
    startxfce4 &
fi
EOF



chmod +x ~/.vnc/xstartup


vncserver :1 -geometry 1280x800 -depth 24


cd ~/noVNC

./utils/novnc_proxy --vnc localhost:5901 --listen 6080


http://localhost:6080/vnc.html


git clone https://github.com/novnc/noVNC.git /home/googlebusiness/noVNC


cd /home/googlebusiness/noVNC

./utils/novnc_proxy --vnc localhost:5901 --listen 6080




vncserver -kill :1


vncserver :1 -geometry 1280x800 -depth 24

vncserver :1 -geometry 1280x800 -depth 24 -xstartup /usr/bin/xfce4-session

./utils/novnc_proxy --vnc localhost:5901 --listen 6080




vncserver :1 -geometry 1280x800 -depth 24 -xstartup /usr/bin/dbus-launch /usr/bin/xfce4-session


vncserver :1 -geometry 1280x800 -depth 24 -xstartup "/usr/bin/dbus-launch /usr/bin/xfce4-session"




cat > /root/.vnc/xstartup << EOF
#!/bin/sh
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS
[ -x /etc/vnc/xstartup ] && exec /etc/vnc/xstartup
[ -r \$HOME/.Xresources ] && xrdb \$HOME/.Xresources
xsetroot -solid grey
vncconfig -iconic &
if [ "\$1" = "gnome" ]; then
    /usr/bin/dbus-launch /usr/bin/gnome-session &
else
    /usr/bin/dbus-launch /usr/bin/xfce4-session &
fi
EOF
chmod +x /root/.vnc/xstartup








mkdir -p /root/.config/tigervnc && chown root:root /root/.config/tigervnc && chmod 700 /root/.config/tigervnc


vncserver :1 -geometry 1280x800 -depth 24


./utils/novnc_proxy --vnc localhost:5901 --listen 6080




sudo rm /var/lib/dpkg/lock
sudo rm /var/lib/dpkg/lock-frontend
sudo rm /var/cache/apt/archives/lock

sudo dpkg --configure -a

sudo apt install -f

sudo systemctl status unattended-upgrades
sudo systemctl stop unattended-upgrades







mkdir -p /root/.vnc



cat > /root/.vnc/xstartup << EOF
#!/bin/sh
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS
[ -x /etc/vnc/xstartup ] && exec /etc/vnc/xstartup
[ -r \$HOME/.Xresources ] && xrdb \$HOME/.Xresources
xsetroot -solid grey
vncconfig -iconic &
if [ "\$1" = "gnome" ]; then
    /usr/bin/dbus-launch /usr/bin/gnome-session &
else
    /usr/bin/dbus-launch /usr/bin/xfce4-session &
fi
EOF




chmod +x /root/.vnc/xstartup




//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


sudo apt update
sudo apt install -y software-properties-common


sudo add-apt-repository universe
sudo add-apt-repository multiverse
sudo add-apt-repository restricted

sudo sed -i 's/^# deb http:\/\/archive.ubuntu.com\/ubuntu\/ $(lsb_release -sc) universe/deb http:\/\/archive.ubuntu.com\/ubuntu\/ $(lsb_release -sc) universe/' /etc/apt/sources.list
sudo apt update


sudo sed -i 's/^# deb http:\/\/archive.ubuntu.com\/ubuntu\/ $(lsb_release -sc) universe/deb http:\/\/archive.ubuntu.com\/ubuntu\/ $(lsb_release -sc) universe/' /etc/apt/sources.list
sudo apt update

lsb_release -sc

echo "deb http://archive.ubuntu.com/ubuntu $(lsb_release -sc) universe" | sudo tee /etc/apt/sources.list.d/universe.list && sudo apt update

apt policy | grep universe

grep universe /etc/apt/sources.list /etc/apt/sources.list.d/* 2>/dev/null





apt-get update && apt-get upgrade && apt update && apt upgrade && apt install aptitude && aptitude full-upgrade


sudo apt update
sudo apt install -y \
  xvfb x11-xserver-utils x11-apps \
  xserver-xephyr \
  xserver-xorg-core xserver-xorg-video-dummy xinit \
  mesa-utils \
  jwm x11vnc


sudo apt install -y software-properties-common
sudo add-apt-repository universe
sudo apt update
sudo apt install -y xserver-xorg-video-dummy

apt update
apt install tigervnc-standalone-server tigervnc-common -y

vncserver :1



sudo apt install -y xfce4 xfce4-goodies






sudo tee /etc/X11/xorg.conf >/dev/null <<'EOF'
Section "Device"
  Identifier  "DummyDevice"
  Driver      "dummy"
  VideoRam    256000
EndSection

Section "Monitor"
  Identifier "DummyMonitor"
  HorizSync    30-80
  VertRefresh  60
EndSection

Section "Screen"
  Identifier "DummyScreen"
  Monitor "DummyMonitor"
  Device "DummyDevice"
  DefaultDepth 24
  SubSection "Display"
    Depth 24
    Modes "1920x1080"
  EndSubSection
EndSection
EOF







sudo Xorg :1 -config /etc/X11/xorg.conf -nolisten tcp & echo $! > /tmp/xorg1.pid



export DISPLAY=:1


xdpyinfo -display :1 | head -n 5






# Make sure DISPLAY is pointing at Xdummy
export DISPLAY=:1

# Start a simple xfce4-session
startxfce4 &



ps aux | grep xfce4 | grep -v grep


sudo apt install -y dbus-x11





# Kill any leftover xfce4-session
pkill -f xfce4-session || true

# Make sure DISPLAY is set
export DISPLAY=:1

# Restart Xfce
startxfce4 &


x11vnc -display :1 -forever -nopw -listen localhost -xkb -shared &

x11vnc -display :1 -forever -nopw -xkb -shared -httpport 6080 &




sudo apt install -y git python3-websockify python3-pip
cd /opt
sudo git clone https://github.com/novnc/noVNC.git
cd noVNC



sudo apt update
sudo apt install -y websockify



sudo apt install -y pipx
pipx install websockify




# Set DISPLAY for Xdummy
export DISPLAY=:1

# Launch noVNC
cd /opt/noVNC
./utils/launch.sh --vnc localhost:5900 --listen 6080 &


http://<YOUR_UBUNTU_IP>:6080/vnc.html



cd /opt/noVNC


websockify --web . 6080 localhost:5900 &



sudo apt update
sudo apt install -y pulseaudio pulseaudio-utils paprefs pavucontrol


sudo apt install -y alsa-utils alsa-plugins alsa-base

sudo apt install -y ubuntu-sounds

find /usr/share/sounds -type f -name "*.wav" | head -n 5


pulseaudio --system --daemonize

sudo Xvfb :99 -screen 0 1024x768x24 -nolisten tcp & echo $! > /tmp/xvfb.pid
export DISPLAY=:99
sudo kill $(cat /tmp/xvfb.pid) || sudo pkill Xvfb
rm -f /tmp/xvfb.pid




# Create user if needed
sudo adduser xfceuser

# Switch to that user
sudo su - xfceuser

# Start PulseAudio normally (per-user)
pulseaudio --start --exit-idle-time=-1



pactl info


sudo apt install -y libpulse-dev build-essential git
cd /opt
git clone https://github.com/your-choice/pulseaudio-webrtc.git
cd pulseaudio-webrtc
# Build per instructions (may require meson/ninja)








